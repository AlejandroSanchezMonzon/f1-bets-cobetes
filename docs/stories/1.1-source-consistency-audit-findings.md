# Story 1.1 - Source Consistency Audit Findings

## AC1 - Language & Naming Checklist

| Status | Path | Lines | Issue | Notes |
| --- | --- | --- | --- | --- |
| Resolved | src/utils/auth.ts | 10, 33 | Developer-facing error previously in Spanish | Messaging converted to English in Story 1.2 while UI responses remain Spanish. |
| Resolved | src/pages/api/predictions/index.ts | 10 | Inline helper duplicates local English messaging | Imports shared helper from `@/utils/auth`; duplication removed in Story 1.2. |
| Resolved | src/pages/api/predictions/[id].ts | 10 | Inline helper duplicates local English messaging | Shared helper now imported; local duplicate removed in Story 1.2. |
| Resolved | src/pages/api/predictions/calculate/[id].ts | 10 | Inline helper duplicates local English messaging | Shared helper now imported; local duplicate removed in Story 1.2. |
| Resolved | db/schema.sql | 1-70 (comments) | Schema documentation previously written in Spanish | Comments translated to English in Story 1.5, preserving technical meaning. |
| OK – User Facing | src/components/**/*.jsx / .astro (multiple) | – | UI labels, button text, toast messages remain in Spanish | Intended product language; document for awareness only. |

## AC2 - Helper Duplication Summary

- **Canonical module:** `src/utils/auth.ts` exports `checkAdmin` and `validateUser`. [Source: architecture/backend-architecture.md]
- **Duplicate instances:** Consolidated in Story 1.2; prediction endpoints now import the shared helper from `@/utils/auth`.
- **Recommendation:** Monitor future API additions to ensure new routes also reuse the shared helper.
- **Additional observation:** Developer-facing error messages remain in English while UI responses stay in Spanish.

## Summary

- Findings above satisfy AC1 and AC2; consolidated items are noted as resolved, and this log remains alongside the epic for traceability.
- No other documentation/files require English alignment at this time.
- Spanish UI copy intentionally remains; mark for awareness only.
