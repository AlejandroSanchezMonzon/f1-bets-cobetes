# Story 1.1: Source Consistency Audit

## Status
Draft

## Story
**As a** product maintainer,
**I want** to audit source code and documentation for language and helper consistency,
**so that** the project remains aligned with standards without disturbing the Spanish end-user experience.

## Acceptance Criteria
1. A documented checklist exists that enumerates code and documentation areas requiring English-only alignment and naming cleanup (UI strings may remain in Spanish by design).
2. A written summary identifies duplicated or inconsistent helper utilities (for example, JWT validation) and recommends which shared module should host the canonical implementation.

## Tasks / Subtasks
- [ ] Compile an inventory of non-English or mixed-language strings across source files, backend responses, and documentation (skip UI strings intended for Spanish users) (AC: 1)
  - [ ] Traverse `src/`, `docs/`, and configuration files following the repository layout to flag mismatches [Source: architecture/high-level-architecture.md]
  - [ ] Record findings in a checklist file under `docs/stories` or equivalent audit log referenced in AC (AC: 1)
- [ ] Review shared helper usage to detect duplication or divergence from standards (AC: 2)
  - [ ] Compare JWT/auth helper usage in API routes against the shared implementations in `@/utils` [Source: architecture/backend-architecture.md]
  - [ ] Document required consolidations and note impacted files for the follow-up refactor story (AC: 2)
- [ ] Summarise audit output and store it alongside the epic for easy reference, ensuring results are in English (AC: 1, 2)

## Dev Notes
- Repository layout highlights where frontend, backend, and shared helpers reside; focus the audit on `src/pages/api/**`, `src/utils`, `src/lib`, and documentation under `docs/` [Source: architecture/high-level-architecture.md]
- Authentication helpers `checkAdmin` and `validateUser` already live in `src/utils/auth.ts`, with some endpoints duplicating logic—confirm actual usage during the audit [Source: architecture/backend-architecture.md]
- Coding standards emphasise avoiding duplicated helper logic and keeping shared code under `src/utils` or `src/lib`; use these expectations when flagging issues [Source: architecture/coding-standards-critical-rules.md]
- Maintain naming conventions outlined in the architecture when suggesting cleanup (components PascalCase, hooks `use*`, API routes kebab-case, etc.) [Source: architecture/naming-conventions.md]
- Development workflow notes the manual regression checklist; capture audit outputs so subsequent stories can plan regression after refactors [Source: architecture/development-workflow.md]
- No prior stories exist; there are no previous insights to inherit.

### Testing
- No automated test suite is present; document findings clearly so later refactor story can introduce targeted tests [Source: architecture/testing-status.md]
- Manual QA checklist (login, prediction CRUD, results publication, ranking refresh) should remain the baseline regression after refactors begin [Source: architecture/development-workflow.md]

## Change Log
| Date       | Version | Description               | Author |
|------------|---------|---------------------------|--------|
| 2025-10-05 | v1.0    | Initial story draft added | Bob    |

## Dev Agent Record

### Agent Model Used

### Debug Log References

### Completion Notes List

### File List

## QA Results
