<script>
  import { butterup } from "@/function/toast";

  window.toast = butterup.toast;
</script>

<style is:global>
  .toaster {
    font-family:
      F1 Regular,
      ui-sans-serif,
      system-ui,
      -apple-system,
      BlinkMacSystemFont,
      Segoe UI,
      Roboto,
      Helvetica Neue,
      Arial,
      Noto Sans,
      sans-serif,
      Apple Color Emoji,
      Segoe UI Emoji,
      Segoe UI Symbol,
      Noto Color Emoji;
    box-sizing: border-box;
    padding: 0;
    margin: 0;
    list-style: none;
    outline: none;
    z-index: 999999999;
    position: fixed;
    padding: 5px;
  }

  .toaster.bottom-right {
    bottom: 20px;
    right: 20px;
  }

  .toaster.bottom-left {
    bottom: 20px;
    left: 20px;
  }

  .toaster.top-right {
    top: 20px;
    right: 20px;
  }

  .toaster.top-left {
    top: 20px;
    left: 20px;
  }

  .toaster.bottom-center {
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
  }

  .toaster.top-center {
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
  }

  .toaster.top-center ol.rack {
    flex-direction: column-reverse;
  }

  .toaster.top-left ol.rack {
    flex-direction: column-reverse;
  }

  .toaster.top-right ol.rack {
    flex-direction: column-reverse;
  }

  .toaster.bottom-center ol.rack {
    flex-direction: column;
  }

  .toaster.bottom-left ol.rack {
    flex-direction: column;
  }

  .toaster.bottom-right ol.rack {
    flex-direction: column;
  }

  ol.rack {
    list-style: none;
    padding: 0;
    margin: 0;
    /* reverse the list order so that the newest items are at the top */
    display: flex;
  }

  ol.rack li {
    margin-bottom: 16px;
  }

  .butteruptoast {
    align-items: center;
    background-color: #171717;
    border-radius: 8px;
    border: 1px solid #fafafa;
    box-shadow: 0 4px 12px #0000001a;
    color: #fafafa;
    display: flex;
    font-size: 18px;
    gap: 6px;
    min-width: 75vw;
    width: auto;
    padding: 15px 20px;
  }

  @media (min-width: 1024px) {
    .butteruptoast {
      min-width: 35vw;
      width: auto;
    }
  }

  .butteruptoast.dismissable {
    cursor: pointer;
  }

  .butteruptoast .icon {
    display: flex;
    align-items: center;
    margin-right: 16px;
  }

  .butteruptoast .icon svg {
    width: 20px;
    height: 20px;
    fill: #fafafa;
  }

  .notif .desc {
    display: flex;
    flex-direction: column;
    gap: 2px;
  }

  .notif .desc .title {
    font-weight: 500;
    line-height: 1.5;
  }

  .notif .desc .message {
    font-weight: 400;
    line-height: 1.4;
  }

  /* Entrance animations */
  /*  Note: These animations need to differ depending on the location of the toaster
    Elements that are in the top should slide and fade down from the top
    Elemennts that are in the bottom should slide and fade up from the bottom
*/

  .toastUp {
    animation: slideUp 0.5s ease-in-out;
    animation-fill-mode: forwards;
  }

  .toastDown {
    animation: slideDown 0.5s ease-in-out;
    animation-fill-mode: forwards;
  }

  @keyframes slideDown {
    0% {
      opacity: 0;
      transform: translateY(-100%);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slideUp {
    0% {
      opacity: 0;
      transform: translateY(100%);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .fadeOutToast {
    animation: fadeOut 0.3s ease-in-out;
    animation-fill-mode: forwards;
  }

  @keyframes fadeOut {
    0% {
      opacity: 1;
    }
    100% {
      opacity: 0;
    }
  }
</style>
